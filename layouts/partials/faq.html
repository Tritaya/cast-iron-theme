<div class="section faq">
  <div class="container">
    <div class="section-title">
      <h2>{{ .Params.faq.title }}</h2>
    </div>
    <div class="faq-list">
      {{ range .Params.faq.questions }}
        <div class="faq-item">
          <h3 class="faq-question">
            <button aria-expanded="false">
              {{ .question }}
              <span class="icon" aria-hidden="true"></span>
            </button>
          </h3>
          <div class="faq-answer" hidden>
            <p>{{ .answer }}</p>
          </div>
        </div>
      {{ end }}
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const faqQuestions = document.querySelectorAll('.faq-question button');
    faqQuestions.forEach(button => {
      button.addEventListener('click', () => {
        const expanded = button.getAttribute('aria-expanded') === 'true';
        button.setAttribute('aria-expanded', !expanded);
        const answer = button.closest('.faq-item').querySelector('.faq-answer');
        answer.hidden = expanded;
      });
    });
  });
</script>